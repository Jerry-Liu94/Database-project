/* --- Profile Page å°ˆå±¬æ¨£å¼ --- */

/* ä¸»è¦å…§å®¹å€åŸŸ (.profile-main) æ¨£å¼ */
.profile-main { 
    flex: 1; 
    display: flex; 
    justify-content: center; 
    min-height: calc(100vh - 100px); 
    padding: 30px 40px;
}

/* ç¶²æ ¼å®¹å™¨ (.profile-container) ä½ˆå±€ */
.profile-container {
    display: grid;
    grid-template-columns: 1.2fr 1fr; /* å·¦æ¬„ç¨å¯¬ï¼Œå³æ¬„ç¨çª„ */
    grid-template-rows: 1fr 1fr; /* ä¸Šä¸‹å…©åˆ—é«˜åº¦å‡åˆ† */
    
    gap: 35px; /* å¡ç‰‡é–“è· */
    width: 100%;
    max-width: 1200px; 
    min-height: 700px; /* ç¢ºä¿æœ‰è¶³å¤ çš„é«˜åº¦æ’é–‹ */
    
    margin-top: 50px; 
    margin-bottom: 50px;
}

/* å·¦å´è³‡è¨Šå¡ç‰‡ (.profile-info-card) è·¨æ¬„è¨­å®š */
/* è®“å€‹äººè³‡è¨Šå¡ç‰‡è·¨è¶Šä¸Šä¸‹å…©åˆ—ï¼Œä½”æ»¿å·¦å´ */
.profile-info-card {
    grid-row: 1 / span 2; 
}

/* ç™»å‡ºæŒ‰éˆ•å®¹å™¨ (æ”¾åœ¨å¡ç‰‡åº•éƒ¨) */
.card-footer-action {
    margin-top: auto; /* é—œéµï¼šå°‡æ­¤å€å¡Šæ¨åˆ°åº•éƒ¨ï¼Œä½”ç”¨æ‰€æœ‰å‰©é¤˜ç©ºé–“ */
    padding-top: 20px;
    border-top: 1px solid #E0E0E0;
    margin-left: -50px; /* ç‚ºäº†è®“æŒ‰éˆ•æ»¿å¯¬ï¼ŒæŠµéŠ·å¡ç‰‡çš„ padding */
    margin-right: -50px;
    padding-left: 50px;
    padding-right: 50px;
    padding-bottom: 0;
}

/* ç™»å‡ºæŒ‰éˆ• (.btn-logout) æ¨£å¼ */
.btn-logout {
    width: 100%;
    padding: 12px;
    background-color: #f34e42; /* é¡¯çœ¼çš„ç´…è‰² */
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    font-size: 1.1rem;
    font-weight: 700;
    transition: background-color 0.2s;
    margin-top: 10px;
}

.btn-logout:hover {
    background-color: #d32f2f;
}

/* é€šç”¨å¡ç‰‡ (.profile-card) æ¨£å¼ */
.profile-card {
    background-color: rgba(255, 255, 255, 0.9);
    border-radius: 20px;
    padding: 50px; 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}


/* --- å·¦å´ï¼šå€‹äººè³‡è¨Š --- */

/* é ­åƒå€åŸŸ (.avatar-area) æ¨£å¼ */
.avatar-area {
    position: relative;
    /* èª¿æ•´å®¹å™¨å°ºå¯¸ï¼šå¾ 150px æ¸›å°åˆ° 130px */
    width: 130px; 
    height: 130px; 
    margin: 0 auto 30px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #EFEFEF; /* é€™æ˜¯ç°åº•çš„é¡è‰² */
    flex-shrink: 0;
}

/* é ­åƒåœ–ç‰‡ (.avatar-img) æ¨£å¼ */
.avatar-img {
    /* èª¿æ•´åœ–ç‰‡å°ºå¯¸ï¼šå¾ 100px å¢åŠ åˆ° 120px */
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover; /* ç¢ºä¿åœ–ç‰‡ä¸è®Šå½¢ */
}

/* ç·¨è¼¯æŒ‰éˆ• (.edit-btn) æ¨£å¼ */
.edit-btn {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translate(-50%, 50%); 
    background-color: #D3D3D3; 
    color: #333;
    padding: 6px 15px;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* ä½¿ç”¨è€…åç¨± (.user-name) æ¨£å¼ */
.user-name {
    font-size: 1.8rem;
    font-weight: 800;
    color: #333;
    text-align: center;
    margin-bottom: 5px;
    flex-shrink: 0;
}

/* ä½¿ç”¨è€… Email (.user-email) æ¨£å¼ */
.user-email {
    font-size: 1rem;
    color: #777;
    text-align: center;
    margin-bottom: 40px;
    flex-shrink: 0;
}

/* è·ç¨±/æ¬Šé™è³‡è¨Šå€å¡Š (.info-group-box) æ¨£å¼ */
.info-group-box {
    background-color: #ffffff;
    border-radius: 12px; 
    padding: 20px 30px; 
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    margin-top: 40px;
}

/* å–®è¡Œè³‡è¨Šçµ„ (.info-group) æ¨£å¼ */
.info-group {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 18px 0; 
    border-bottom: 1px solid #E0E0E0; 
}

/* ç§»é™¤æœ€å¾Œä¸€è¡Œçš„åº•éƒ¨é‚Šç·š */
.info-group-box .info-group:last-child {
    border-bottom: none; 
}

/* è³‡è¨Šæ¨™ç±¤ (.info-label) æ¨£å¼ */
.info-label {
    font-size: 1.1rem;
    font-weight: 700;
    color: rgba(7, 35, 125, 1);
}

/* è³‡è¨Šå€¼ (.info-value) æ¨£å¼ */
.info-value {
    font-size: 1.1rem;
    font-weight: 600;
    color: #555;
}

/* å¯ç·¨è¼¯è³‡è¨Šå€¼ (.info-value.info-editable) æ¨£å¼ */
.info-value.info-editable {
    display: flex;
    align-items: center;
    gap: 8px;
    
    font-weight: 600; 
    color: #555;
    font-size: 1.1rem;
}

/* ç·¨è¼¯åœ–ç¤º (.info-edit-icon) æ¨£å¼ */
.info-edit-icon {
    width: 18px;
    height: 18px;
    cursor: pointer;
    opacity: 0.6;
    transition: opacity 0.2s;
}

/* ç·¨è¼¯åœ–ç¤º Hover æ•ˆæœ */
.info-edit-icon:hover {
    opacity: 1;
}

/* ç¢ºä¿å¯ç·¨è¼¯æ–‡å­—ä¸è¢«æ“ å£“ */
.info-value.info-editable span {
    flex-shrink: 0; 
}


/* --- å³å´ï¼šè¨­å®šå€å¡Š --- */

/* å¡ç‰‡æ¨™é¡Œ (.card-title) æ¨£å¼ */
.card-title {
    font-size: 1.4rem;
    font-weight: 800;
    color: rgba(7, 35, 125, 1);
    margin-bottom: 30px;
}

/* å®‰å…¨æ€§/é–‹ç™¼è€…è³‡è¨Šå€å¡Š (.setting-group-box) æ¨£å¼ */
.setting-group-box {
    background-color: #ffffff;
    border-radius: 12px; 
    padding: 20px 30px; 
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-around; 
}

/* å–®è¡Œè¨­å®š (.setting-row) æ¨£å¼ */
.setting-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 0; 
    border-bottom: 1px solid #E0E0E0;
}

/* ç§»é™¤è¨­å®šå€å¡Šä¸­æœ€å¾Œä¸€è¡Œçš„åº•éƒ¨é‚Šç·š */
.setting-group-box .setting-row:last-child {
    border-bottom: none;
}

/* è¨­å®šæ¨™ç±¤ (.setting-label) æ¨£å¼ */
.setting-label {
    font-size: 1.1rem;
    font-weight: 600;
    color: #333;
}

/* è¨­å®šå€¼ (.setting-value) æ¨£å¼ */
.setting-value {
    display: flex;
    align-items: center;
    font-size: 1.1rem;
    font-weight: 700;
    color: #555;
    background-color: transparent;
    padding: 0; 
    border-radius: 0;
}

/* å¯†ç¢¼é¡¯ç¤ºæ–‡å­—ä¸è¢«æ“ å£“ */
.password-display span {
    flex-shrink: 0;
}

/* å¯†ç¢¼ç·¨è¼¯å’Œ Token è¤‡è£½åœ–ç¤ºæ¨£å¼ */
.password-display .edit-icon,
.api-token-display .copy-icon {
    width: 20px;
    height: 20px;
    margin-left: 10px;
    cursor: pointer;
    opacity: 0.8;
}

/* --- Toggle Switch (å¤šå› ç´ èªè­‰) æ¨£å¼ --- */

/* Toggle Switch å®¹å™¨ (.toggle-switch) æ¨£å¼ */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 34px;
    flex-shrink: 0; 
}

/* éš±è—åŸç”Ÿ input */
.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

/* æ»‘å¡ŠèƒŒæ™¯ (.slider) æ¨£å¼ */
.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 34px;
}

/* æ»‘å¡Šåœ“é» (:before) æ¨£å¼ */
.slider:before {
    position: absolute;
    content: "";
    height: 26px;
    width: 26px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

/* é–‹å•Ÿç‹€æ…‹çš„æ»‘å¡ŠèƒŒæ™¯è‰² */
input:checked + .slider {
    background-color: rgba(7, 35, 125, 1); 
}

/* é–‹å•Ÿç‹€æ…‹çš„æ»‘å¡Šåœ“é»ä½ç½® */
input:checked + .slider:before {
    transform: translateX(26px);
}

/* é–å®šç‹€æ…‹ä¸‹ï¼Œæ»‘å¡Šå®¹å™¨çš„æ¨£å¼èª¿æ•´ */
.toggle-switch.is-locked {
    opacity: 0.8; /* ç¨å¾®é™ä½é€æ˜åº¦ */
    cursor: not-allowed; /* æ¸¸æ¨™è®Šç‚ºç¦æ­¢ç¬¦è™Ÿ */
}

/* é–å®šç‹€æ…‹ä¸‹ï¼Œæ»‘å¡Šå®¹å™¨çš„æ¨£å¼èª¿æ•´ */
.toggle-switch.is-locked {
    opacity: 0.8; 
    /* âŒ ç§»é™¤é€™è¡Œçš„ cursor: not-allowed; */
}

/* é–å®šç‹€æ…‹ä¸‹ï¼Œæ»‘å¡Šè»Œé“çš„é¡è‰² */
.toggle-switch.is-locked .slider {
    background-color: #A5D6A7; 
    cursor: default; /* ğŸ’¡ å°‡ç¦æ­¢æ¸¸æ¨™æ”¹ç‚ºæ¨™æº–æ¸¸æ¨™ */
}

/* ç”±æ–¼ input è¢« disabledï¼Œæˆ‘å€‘è®“æ•´å€‹ row é¡¯ç¤ºé–å®šæ¸¸æ¨™ */
.setting-row:has(.toggle-switch.is-locked) {
    cursor: default; /* ğŸ’¡ å°‡ç¦æ­¢æ¸¸æ¨™æ”¹ç‚ºæ¨™æº–æ¸¸æ¨™ */
}

/* --- MFA æ‡¸æµ®æç¤ºæ¡†æ¨£å¼ (æ–°å¢) --- */

/* ç¢ºä¿å®¹å™¨å®šä½çš„åƒè€ƒé»æ˜¯ setting-row (é€™éœ€è¦åœ¨ HTML ä¸­çš„ setting-row è¨­ç½® position: relative) */
.setting-row {
    position: relative; 
    /* ... ç¢ºä¿æ‚¨çš„ setting-row æ¨£å¼å·²ç¶“åŒ…å«é€™è¡Œ */
}

/* æç¤ºæ¡†æœ¬èº« (åˆå§‹éš±è—) */
.mfa-tooltip {
    position: absolute;
    right: 0; /* è®“å®ƒä½æ–¼è¨­å®šè¡Œå³å´ */
    top: 50%;
    transform: translateY(-50%) translateX(-65px); /* èª¿æ•´ä½ç½®ï¼Œä½¿å…¶ä½æ–¼é–‹é—œä¸Šæ–¹æˆ–æ—é‚Š */
    
    background-color: #333;
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 400;
    white-space: nowrap; 
    
    /* é è¨­éš±è— */
    opacity: 0;
    visibility: hidden;
    /* ğŸ’¡ ä¿®æ­£é» 1: è¨­ç½®éæ¸¡æ™‚é–“ç‚º 0sï¼Œå¯¦ç¾ã€Œç«‹å³ã€é¡¯ç¤º */
    transition: opacity 0s; 
    z-index: 10;
    pointer-events: none; /* ç¢ºä¿æç¤ºæ¡†ä¸æœƒæ“‹ä½åº•å±¤å…ƒç´  */
}

/* ğŸ’¡ æ–°å¢ï¼šé–å®šç‹€æ…‹ä¸‹ï¼Œæ»‘é¼ æ‡¸åœæ™‚é¡¯ç¤ºæç¤ºæ¡† */
.setting-row:has(.toggle-switch.is-locked):hover .mfa-tooltip {
    opacity: 1;
    visibility: visible;
}